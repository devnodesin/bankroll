# Task GH-007: Import Transactions Feature

## Objective
Implement functionality to import bank transactions from XLS/CSV files with strict validation.

## Requirements

### 1. Import UI Component
- Add "Import" button to home page (near filter section or in header)
- Button opens modal or navigates to import page
- Modal/page contains:
  - File upload input (accept .xls, .xlsx, .csv)
  - Bank name input/select
  - Import button
  - Clear error/success messages area

### 2. File Validation Requirements
- Accept only XLS, XLSX, and CSV file formats
- Maximum file size: 5MB (configurable)
- Required columns (exact match, case-insensitive):
  - Date
  - Description
  - Withdraw
  - Deposit
  - Balance
- **Abort import if columns don't match exactly**
- Show clear error message listing missing/incorrect columns

### 3. Import Controller Logic
- Create ImportController with import method
- Read uploaded file using Laravel Excel or similar package
- Validate file structure before processing
- Parse data and validate each row:
  - Date is valid date format
  - Withdraw/Deposit/Balance are numeric
  - At least one of Withdraw or Deposit has value
- Extract year and month from date field
- Calculate Amount field (Deposit - Withdraw)

### 4. Data Processing
- Insert valid transactions into database
- Associate with selected bank
- Store reference number if provided in file
- Handle duplicates gracefully (skip or flag)
- Transaction: All inserts in database transaction (rollback on error)

### 5. Error Handling
- Show detailed error if file format is wrong
- List specific column name mismatches
- Show row-level errors if data validation fails
- Don't insert any data if validation fails
- Provide clear, actionable error messages

### 6. Success Feedback
- Show success message with number of transactions imported
- Automatically refresh transaction list
- Close modal/return to home page

## Acceptance Criteria
- [ ] Import button/modal displays correctly
- [ ] File upload accepts only XLS/CSV files
- [ ] Column validation works correctly
- [ ] Import aborts with clear error if columns don't match
- [ ] Valid files are imported successfully
- [ ] Transactions appear in database with correct data
- [ ] Year and month are extracted correctly
- [ ] Error messages are clear and helpful
- [ ] Success message shows import count
- [ ] Page refreshes to show new data

## Technical Notes
- Use `maatwebsite/excel` package for Excel/CSV handling
- Validate file MIME type on server side
- Use Laravel validation rules for data
- Wrap inserts in database transaction
- Consider background job for large files
- Log import errors for debugging
